// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
// ๐ K-MITA ANALYTICS DASHBOARD - CONFIGURACIรN PRINCIPAL
// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
// 
// Este archivo contiene todas las configuraciones del dashboard de analytics
// Basado en las variables de entorno del archivo .env
// 
// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

const CONFIG = {
    // โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    // โ ๐ CREDENCIALES DE AUTENTICACIรN                                            โ
    // โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    AUTH: {
        USERNAME: 'kmita',
        PASSWORD: 'analytics2024'
    },
    
    // โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    // โ ๐ CONFIGURACIรN DE GOOGLE SHEETS                                          โ
    // โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    GOOGLE_SHEETS: {
        SHEET_ID: '1BrEpAFNBYeW-N36_nvlyVivWsrkirTGpTuHy7AnCMi0',
        API_KEY: 'AIzaSyA2V6oAVFW14tUfAPay-57QgA9dwZWHhAE',
        ORDERS_SHEET: 'Monthly_Analysis - Orders_Data',
        CUSTOMERS_SHEET: 'Monthly_Analysis - Customers_Data'
    },
    
    // โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    // โ ๐ CONFIGURACIรN DE LA APLICACIรN                                          โ
    // โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    APP: {
        NAME: 'K-mita Analytics Dashboard',
        VERSION: '1.0.0',
        ENVIRONMENT: 'production',
        CURRENCY: 'MXN',
        LOCALE: 'es-MX',
        TIMEZONE: 'America/Mexico_City'
    },
    
    // โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    // โ ๐ CONFIGURACIรN DE ACTUALIZACIรN DE DATOS                                 โ
    // โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    DATA: {
        REFRESH_INTERVAL: 21600000, // 6 horas (6 * 60 * 60 * 1000)
        AUTO_REFRESH_ENABLED: true,
        MAX_RETRIES: 3,
        TIMEOUT: 30000 // 30 segundos
    },
    
    // โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    // โ ๐ URLs Y ENDPOINTS                                                        โ
    // โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    URLS: {
        GOOGLE_SHEETS_API_BASE: 'https://docs.google.com/spreadsheets/d',
        BACKUP_DATA_URL: 'sample-data.json'
    },
    
    // โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    // โ ๐ CONFIGURACIรN DE GRรFICOS                                               โ
    // โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    CHARTS: {
        DEFAULT_COLORS: [
            '#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6',
            '#06b6d4', '#84cc16', '#f97316', '#ec4899', '#6366f1'
        ],
        ANIMATION_DURATION: 750,
        RESPONSIVE: true
    },
    
    // โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    // โ ๐ CONFIGURACIรN DE MรTRICAS K-MITA ESPECรFICAS                            โ
    // โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    KMITA: {
        PRODUCT_TYPES: [
            'Arena Biodegradable 3kg',
            'Arena Biodegradable 6kg', 
            'Arena Biodegradable 10kg',
            'Arena Biodegradable 20kg',
            'Arena Biodegradable 30kg',
            'Arena Biodegradable 60kg',
            'Arena Biodegradable 120kg'
        ],
        CUSTOMER_SEGMENTS: ['New', 'One-time', 'Repeat', 'Loyal', 'VIP', 'At-Risk'],
        MAIN_STATES: [
            'Ciudad de Mรฉxico', 'Jalisco', 'Nuevo Leรณn', 'Puebla', 
            'Veracruz', 'Guanajuato', 'Chihuahua', 'Baja California'
        ]
    }
};

// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
// ๐๏ธ FUNCIONES AUXILIARES
// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

// Funciรณn para construir URL de Google Sheets CSV export pรบblico (sin autenticaciรณn)
function buildGoogleSheetsURL(sheetName) {
    const url = `${CONFIG.URLS.GOOGLE_SHEETS_API_BASE}/${CONFIG.GOOGLE_SHEETS.SHEET_ID}/export?format=csv&sheet=${encodeURIComponent(sheetName)}`;
    console.log(`[CONFIG] URL CSV pรบblico generada para ${sheetName}: ${url}`);
    return url;
}

// Funciรณn para obtener configuraciรณn formateada de moneda
function getCurrencyFormat() {
    return {
        style: 'currency',
        currency: CONFIG.APP.CURRENCY,
        minimumFractionDigits: 2
    };
}

// Funciรณn para formatear nรบmeros segรบn la configuraciรณn
function formatNumber(number, options = {}) {
    const defaultOptions = {
        minimumFractionDigits: 0,
        maximumFractionDigits: 2
    };
    return number.toLocaleString(CONFIG.APP.LOCALE, { ...defaultOptions, ...options });
}

// Funciรณn para formatear moneda
function formatCurrency(amount) {
    return amount.toLocaleString(CONFIG.APP.LOCALE, getCurrencyFormat());
}

// Funciรณn para validar credenciales
function validateCredentials(username, password) {
    return CONFIG.AUTH.USERNAME === username && CONFIG.AUTH.PASSWORD === password;
}

// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
// ๐ EXPORTAR CONFIGURACIรN Y FUNCIONES
// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

// Hacer CONFIG disponible globalmente
window.CONFIG = CONFIG;

// Exportar funciones auxiliares
window.buildGoogleSheetsURL = buildGoogleSheetsURL;
window.getCurrencyFormat = getCurrencyFormat;
window.formatNumber = formatNumber;
window.formatCurrency = formatCurrency;
window.validateCredentials = validateCredentials;

// Exportar configuraciรณn para uso en otros archivos (Node.js)
if (typeof module !== 'undefined' && module.exports) {
    module.exports = CONFIG;
}

// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
// ๐ LOG DE INICIALIZACIรN
// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
console.log('๐ K-mita Dashboard Config loaded successfully');
console.log(`๐ Version: ${CONFIG.APP.VERSION}`);
console.log(`๐ Environment: ${CONFIG.APP.ENVIRONMENT}`);
console.log(`๐ Auto-refresh: ${CONFIG.DATA.AUTO_REFRESH_ENABLED ? 'Enabled' : 'Disabled'}`);
console.log(`๐ Product types: ${CONFIG.KMITA.PRODUCT_TYPES.length} configured`);

// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
// ๐ก๏ธ VALIDACIรN DE CONFIGURACIรN
// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
if (!CONFIG.AUTH.USERNAME || !CONFIG.AUTH.PASSWORD) {
    console.error('โ Authentication credentials not configured');
}

if (!CONFIG.GOOGLE_SHEETS.SHEET_ID || !CONFIG.GOOGLE_SHEETS.API_KEY) {
    console.warn('โ๏ธ Google Sheets configuration incomplete - will use sample data');
}